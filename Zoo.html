<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–æ–æ–ø–∞—Ä–∫</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
            padding: 20px;
        }

        h1 {
            color: #2c3e50;
        }

        form {
            margin-bottom: 20px;
        }

        input[type="text"], select {
            padding: 10px;
            font-size: 16px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            margin-top: 10px;
        }

        button:hover {
            background-color: #2980b9;
        }

        .zoo-container {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
        }

        .zoo-box {
            width: 40%;
            padding: 10px;
            border: 2px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .zoo-box h3 {
            text-align: center;
        }

        .animal-list {
            list-style: none;
            padding: 0;
            text-align: left;
        }

        .animal-item {
            margin: 10px 0;
        }

        .emoji {
            font-size: 24px;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>–ó–æ–æ–ø–∞—Ä–∫</h1>
    <form id="animalForm">
        <label for="animalForm">–ù–∞–∑–≤–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ:</label>
        <input type="text" id="animalName" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>
        <label for="animalType">–¢–∏–ø –∂–∏–≤–æ—Ç–Ω–æ–≥–æ:</label>
        <select id="animalType">
        <option value="herbivore">–¢—Ä–∞–≤–æ—è–¥–Ω–æ–µ</option>
        <option value="carnivore">–•–∏—â–Ω–∏–∫</option>
    </select>

    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –∂–∏–≤–æ—Ç–Ω–æ–µ</button>
    </form>

    <div class="zoo-container">
        <div class="zoo-box" id="herbivores">
            <h3>–¢—Ä–∞–≤–æ—è–¥–Ω—ã–µ</h3>
            <ul class="animal-list" id="herbivoreList"></ul>
        </div>
        <div class="zoo-box" id="carnivores">
            <h3>–•–∏—â–Ω–∏–∫–∏</h3>
            <ul class="animal-list" id="carnivoreList"></ul>
        </div>
    </div>

    <script>

        const herbivoreList = document.getElementById('herbivoreList')
        const carnivoreList = document.getElementById('carnivoreList')

        let animals = JSON.parse(localStorage.getItem('animals')) || [];

        function renderAnimals() {
            herbivoreList.innerHTML = '';
            carnivoreList.innerHTML = '';
            animals.forEach(animal => {

            const newAnimalItem = document.createElement('li')
            newAnimalItem.textContent = animal.name;

             //–ö–Ω–æ–ø–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
             const deleteButton =document.createElement('button');
                deleteButton.textContent = "–£–¥–∞–ª–∏—Ç—å";
                deleteButton.classList.add('delete-button');

             //–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
             deleteButton.addEventListener('click', function() {
                animals = animals.filter(a => a.id !== animal.id);
                saveAnimals();
                renderAnimals();
            });

            const emoji = document.createElement('span');
            emoji.classList.add('emoji');
            emoji.textContent = animal.type === "herbivore" ? "üåø" : "ü•©"
            /*if (animalType === "herbivore") {
                emoji.textContent = "üåø";
                //document.getElementById('herbivoreList').appendChild(newAnimalItem);
            }
            else if (animalType === "carnivore") {
                emoji.textContent = "ü•©";
                //document.getElementById('carnivoreList').appendChild(newAnimalItem);
            }
                */
            let editButton = document.createElement('button')
            editButton.textContent = '–ò–∑–º–µ–Ω–∏—Ç—å'
            editButton.classList.add('edit-button')
            newAnimalItem.appendChild(emoji);
            newAnimalItem.appendChild(deleteButton);
            editButton.addEventListener('click', clickEditFunction)
            function clickEditFunction(event) {
                let currentText = event.target.parentElement.textContent
                let emojiHerbivore = 'üåø'
                let emojiCarnivore = 'ü•©'
                let emojiHerbivoreIndex = currentText.indexOf(emojiHerbivore)
                let emojiCarnivoreIndex = currentText.indexOf(emojiCarnivore)
                if (emojiHerbivoreIndex > 0) {
                    let herbivoreText = currentText.slice(0, emojiHerbivoreIndex)
                    let herbivoreDefaultText = currentText.slice(emojiHerbivoreIndex)
                    let inputObject = inputElement(herbivoreText)
                    console.log(herbivoreText)
                }
                 else if (emojiCarnivoreIndex > 0) {
                    let carnivoreText = currentText.slice(0, emojiCarnivoreIndex)
                    let carnivoreDefaultText = currentText.slice(emojiCarnivoreIndex)
                    let inputObject = inputElement(carnivoreText)
                    console.log(carnivoreText)
                }
            }
            function inputElement(text) {
                let input = document.createElement('input')
            input.type = 'text'
            input.value = text
            return input
            }
            
            newAnimalItem.appendChild(editButton);
            if (animal.type === 'herbivore') {
                herbivoreList.appendChild(newAnimalItem);
            } else {
                carnivoreList.appendChild(newAnimalItem);
            }
        })
        }
        
        document.getElementById('animalForm').addEventListener('submit', function(event) {
            event.preventDefault();
        
        const animalName = document.getElementById('animalName').value.trim();
        const animalType = document.getElementById('animalType').value;
        console.log(animalName)
        console.log(animalType)
        if (!animalName) {
            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ!')
            return;
        }
        const newAnimal = {
            id: Date.now(),
            name: animalName,
            type: animalType
        };
        animals.push(newAnimal);
        saveAnimals(); 
        renderAnimals();
        /*const newAnimalItem = document.createElement('li')
        newAnimalItem.textContent = animalName;
        //–ö–Ω–æ–ø–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
        const deleteButton =document.createElement('button');
        deleteButton.textContent = "–£–¥–∞–ª–∏—Ç—å";
        deleteButton.classList.add('delete-button');
        //–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
        deleteButton.addEventListener('click', function() {
            newAnimalItem.remove();
        })
        const emoji = document.createElement('span');
        emoji.classList.add('emoji');
        if (animalType === "herbivore") {
            emoji.textContent = "üåø";
            document.getElementById('herbivoreList').appendChild(newAnimalItem);
        }
        else if (animalType === "carnivore") {
            emoji.textContent = "ü•©";
            document.getElementById('carnivoreList').appendChild(newAnimalItem);
        }
        newAnimalItem.appendChild(emoji);
        newAnimalItem.appendChild(deleteButton);*/



        document.getElementById('animalName').value = '';
    });
    function saveAnimals() {
        localStorage.setItem('animals', JSON.stringify(animals));
    }

    renderAnimals();
    </script>
</body>
</html>